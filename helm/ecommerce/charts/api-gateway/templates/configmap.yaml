apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-{{ .Chart.Name }}-config
  namespace: {{ .Values.global.namespace }}
  labels:
    app: {{ .Chart.Name }}
data:
  SPRING_PROFILES_ACTIVE: {{ .Values.global.springProfilesActive | quote }}
  SPRING_ZIPKIN_BASEURL: {{ .Values.config.springZipkinBaseUrl | quote }}
  SPRING_CONFIG_IMPORT: {{ .Values.config.springConfigImport | quote }}
  EUREKA_CLIENT_REGION: {{ .Values.config.eurekaClientRegion | quote }}
  EUREKA_CLIENT_AVAILABILITY_ZONES_DEFAULT: {{ .Values.config.eurekaClientAvailabilityZonesDefault | quote }}
  EUREKA_CLIENT_SERVICEURL_DEFAULTZONE: {{ .Values.config.eurekaClientServiceUrlDefaultZone | quote }}
  EUREKA_CLIENT_SERVICEURL_MYZONE: {{ .Values.config.eurekaClientServiceUrlMyZone | quote }}
  EUREKA_INSTANCE_PREFER_IP_ADDRESS: {{ .Values.config.eurekaInstancePreferIpAddress | quote }}
  EUREKA_CLIENT_REGISTER_WITH_EUREKA: "true"
  EUREKA_CLIENT_FETCH_REGISTRY: "true"
